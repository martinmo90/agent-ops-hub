# Purpose: Unblock merges by always producing the required check-run
#          named exactly "Baseline Guard / verifyExpected".
# Remove once branch protection is updated to the new job name.

name: Baseline Guard
run-name: "${{ github.workflow }} â€” ${{ github.event_name == 'pull_request' && format('#{0}', github.event.pull_request.number) || github.ref_name }}"
on:
  pull_request_target:
  merge_group:
  workflow_dispatch:

permissions:
  contents: read

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

jobs:
  verifyExpected:
    # IMPORTANT: Job name must be exactly "verifyExpected"
    name: verifyExpected
    runs-on: ubuntu-latest
    # Always run so the check is never missing
    if: always()
    steps:
      - run: echo "Compat status for branch protection (no PR code executed)."
